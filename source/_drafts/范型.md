title: 范型
tags:
- Java
categories:
- 语言
- Java
---
在所有不寻常的软件项目中，Bug 只是一个生活的事实。精心的策划、编程、测试可以减少它普遍出现，但是在某种程度上、在某个地方，它们总会找到某种方式进入你的代码。伴随新功能的引进和你代码库的规模和复杂性的增长，这变得特别明显。

幸运的是，一些 Bug 比其他 Bug 更容易发现。例如，编译期 Bug 可以在早起被发现；你可以使用编译器的错误信息找出问题是什么并当场修复它。然而，运行时 Bug 会有更多的问题；它们总是不立即表现出来，当它们发生时，可能在程序中离问题发生原因很远的位置。

范型通过使更多的 Bug 在编译期被发现增加代码的稳定性。完成这个课程后，你可能想跟进Gilad Bracha的[泛型](http://docs.oracle.com/javase/tutorial/extra/generics/index.html)教程。

### 为什么使用范型？

概括地说，当定义类、接口和方法时，范型可以使类型（类和接口）成为参数。很像在方法声明中使用的更常见的形式参数，类型参数提供了一种方法，用于重新使用不同输入的相同代码。不同的是，输入到正式参数的是值，而输入到类型参数的是类型。

使用范型的代码比不使用范型的代码有很多好处：

- 编译期更健壮的类型检查。

Java编译器对范型代码使用强类型检查，如果代码违反类型安全则提示错误。解决编译期错误比解决运行时错误要简单，运行时错误很难被发现。

- 消除了类型转换。

下面没有使用范型的代码片段需要进行类型转换：

    List list = new ArrayList();
    list.add("hello");
    String s = (String) list.get(0);

使用范型重写上面的代码则不不需要类型转换：

    List<String> list = new ArrayList<String>();
    list.add("hello");
    String s = list.get(0);   // no cast

- 程序员可以实现范型算法。

通过使用范型，程序员可以实现处理不同类型数据的、可定制的、类型安全且容易阅读的范型集合程序。